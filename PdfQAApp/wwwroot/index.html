<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IOCL</title>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">P</div>
                <div class="logo-text">IOCL DOCUMENT ANALYSER</div>
            </div>
            <div class="header-actions">
                <div class="status-badge" id="statusBadge">
                    <div class="status-dot"></div>
                    <span id="statusText">Ready</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Main Content -->
        <main class="main-content">
            <!-- Alerts Container -->
            <div id="alerts"></div>

            <!-- Upload Section -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <svg class="icon" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                        </svg>
                        Upload Documents
                    </h2>
                    <p class="card-subtitle">Upload PDF files to analyze with AI</p>
                </div>
                <div class="card-body">
                    <div class="upload-zone" id="uploadArea">
                        <input type="file" id="fileInput" style="display: none;" multiple accept=".pdf">
                        <div class="upload-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                            </svg>
                        </div>
                        <div class="upload-text">
                            <div class="upload-title">Drop PDF files here or click to browse</div>
                            <div class="upload-subtitle">Support for multiple files â€¢ Max 50MB per file</div>
                        </div>
                    </div>
                    
                    <div class="file-list" id="fileList"></div>
                    
                    <div class="btn-group">
                        <button class="btn btn-primary" id="processBtn" disabled>
                            <svg class="icon" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414 1.414L10.586 9.5H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z" clip-rule="evenodd" />
                            </svg>
                            <span id="processBtnText">Process Documents</span>
                        </button>
                        <button class="btn btn-secondary" id="clearBtn">Clear All</button>
                        <button class="btn btn-secondary" id="testBtn">Test Connection</button>
                    </div>
                </div>
            </div>

            <!-- Q&A Section -->
            <div class="card qa-section">
                <div class="card-header">
                    <h2 class="card-title">
                        <svg class="icon" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                        </svg>
                        Ask Questions
                    </h2>
                    <p class="card-subtitle">Query your documents with natural language</p>
                </div>
                <div class="card-body">
                    <div class="question-area">
                        <textarea 
                            class="question-input" 
                            id="questionInput" 
                            placeholder="What would you like to know about your documents?"
                            disabled
                        ></textarea>
                        <span class="char-count" id="charCount">0 / 500</span>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn btn-primary" id="askBtn" disabled>
                            <svg class="icon" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
                            </svg>
                            Ask Question
                        </button>
                    </div>
                    
                    <div class="answer-container" id="answerContainer">
                        <div class="answer-content" id="answerContent">
                            Upload and process your PDF documents to start asking questions.
                        </div>
                        <div class="sources-container" id="sourcesSection" style="display: none;">
                            <div class="sources-title">
                                <svg class="icon" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 10-2 0v3a1 1 0 102 0v-3zm2-3a1 1 0 011 1v5a1 1 0 11-2 0v-5a1 1 0 011-1zm4-1a1 1 0 10-2 0v7a1 1 0 102 0V8z" clip-rule="evenodd" />
                                </svg>
                                Referenced Sources
                            </div>
                            <div id="sourcesList"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Sidebar -->
        <aside class="sidebar">
            <!-- Quick Stats -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">
                        <svg class="icon" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" />
                        </svg>
                        Statistics
                    </h3>
                </div>
                <div class="card-body">
                    <div style="display: grid; gap: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span style="color: var(--gray-600); font-size: 0.875rem;">Documents</span>
                            <span style="font-weight: 600; color: var(--gray-900);" id="docCount">0</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span style="color: var(--gray-600); font-size: 0.875rem;">Questions Asked</span>
                            <span style="font-weight: 600; color: var(--gray-900);" id="questionCount">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Loading Overlays -->
    <div class="loading-overlay" id="uploadLoading" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Processing documents...</div>
        </div>
    </div>

    <div class="loading-overlay" id="questionLoading" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Analyzing your question...</div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>